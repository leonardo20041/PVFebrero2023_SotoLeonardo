 <!DOCTYPE html>	<!-- En layout se encontrara la plantilla global, cualquier cambio realizado en esta plantilla, afecta a todas -->
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">	<!-- Trabajar con seguridad y autenticacion en las vistas -->

<head th:fragment="head">
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title th:text="'Hotel Spring ARG'"></title>
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
</head>

<body>

<header th:fragment="header">
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
	<img th:src="@{/img/hotel.png}" alt="Hotel Logo" style="width: 70px;"/>
	  <a class="navbar-brand" th:href="@{/index}">Hotel Spring</a>
	  
	  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
	    <span class="navbar-toggler-icon"></span>
	  </button>
	  
	  <div class="collapse navbar-collapse" id="navbarNav">
	    
	    <ul class="navbar-nav mr-auto">
	      <li class="nav-item active">
	        <a class="nav-link" th:href="@{/index}">Home<span class="sr-only">(current)</span></a>
	      </li>
	      
	      <li class="nav-item">
	        <a class="nav-link" th:href="@{/}">Todos</a>
	      </li>
	      
	      <li class="nav-item">
	        <a class="nav-link" th:href="@{/}">Hotel</a>
	      </li>
	      
	      <li class="nav-item">
	        <a class="nav-link" th:href="@{/}">Casa / Departamento</a>
	      </li>
	      
	      <li class="nav-item">
	        <a class="nav-link" th:href="@{/listarUsuarios}">Usuarios</a>
	      </li>
	      
	      <li class="nav-item">
	        <a class="nav-link" th:href="@{/form}" sec:authorize="hasRole('ROLE_ADMIN')">Crear Usuarios</a>
	      </li>
	      
	    </ul>
	    
	    <ul class="navbar-var navbar-right">
<!-- 	    	<li sec:authorize="!isAuthenticated()"><a class="btn btn-outline-primary" th:href="@{/login}">Sign In</a></li> -->
	    	<!-- Si no esta autenticado (Si NO ha iniciado sesion), va a mostrar Sign In -->
	    	
<!-- 	    	<li sec:authorize="isAuthenticated()" class="dropdown"> Si YA inicio sesion, va a mostrar el Sign Out -->
<!-- 			  <a class="btn btn-outline-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> -->
<!-- 			    <span sec:authentication="name"></span> -->
<!-- 			  </a> -->
			
<!-- 			  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink"> -->
			  
<!-- 			    <form id="logoutForm" th:action="@{/logout}" method="post"> -->
<!-- 			    							 onclickEnvia el form hacia la ruta /logout con el method post y con el token para cerrar sesion -->
<!-- 			    	<button class="dropdown-item" onclick="document.getElementById('logoutForm').submit();" type="submit">Sign Out</button> -->
<!--  			    	<input type="hidden" th:name="${_crsf.parameterName}" th:value="${_csrf.token}"> -->
 			    	 
<!-- 			    </form> -->
			    
<!-- 			  </div> -->
			  
<!-- 			</li>	    	 -->
	    	
	    </ul>
	    
	  </div>
	</nav>
	
<!-- 	Mensajes flash, un div por cada mensaje -->
	<div class="alert alert-success" th:if="${success != null}" th:text="${success}"></div>
	<div class="alert alert-danger" th:if="${error != null}" th:text="${error}"></div>
	<div class="alert alert-warning" th:if="${warning != null}" th:text="${warning}"></div>
	<div class="alert alert-info" th:if="${info != null}" th:text="${info}"></div>
</header>

<!-- Contenido principal -->
<div class="container"></div>

<footer th:fragment="footer" class="container">
	<hr/>
	<img th:src="@{/img/hotel.png}" alt="Google logo" style="width: 100px;"/>
	
	<!-- Nombre del usuario logueado y sus roles -->
	<p sec:authorize="isAuthenticated()">	<!-- El metodo valida si el usuario este autenticado -->
		Usuario Loggeado: <span sec:authentication="name"></span> | Roles: <span sec:authentication="principal.authorities"></span>
	</p>
	
	<p class="text-center">
		Powered by <a href="https://spring.io/">Spring Boot</a> & <a href="https://www.thymeleaf.org/">Thymeleaf</a>.
	</p>
	<p class="text-center">
		Proyecto desarrollado en IDE Eclipse + Spring plugins (STS Spring Tool), Howdy<br /> &copy;
		Company 2023, Inc. Todos los derechos reservados. TÃ©rminos de uso y privacidad<br />
	</p>
	
		<script th:src="@{/js/jquery-3.3.1.min.js}"></script>
		<script th:src="@{/js/popper.min.js}"></script>
		<script th:src="@{/js/bootstrap.min.js}"></script>
		<script th:src="@{/js/jquery-ui.min.js}"></script>
</footer>
</body>
</html>